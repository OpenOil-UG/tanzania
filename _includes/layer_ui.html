<div class="layer-ui col12 minor-panel-viewer">
    <!-- <p class="prose small center quiet">Click on a layer to add it to the map.</p> -->
    {% if page.maplayer_options.filter %}
        <div class="col2 text-right pad0y" style="padding-right: 8px">
            <div class="light small">Theme:</div>
        </div>
        <div class="col10">
            <div class="rounded-toggle inline">
                <input id="allthemes" type="radio" name='theme' value="allthemes" checked='checked'>
                <label for="allthemes">All</label>
                <input id="concession" type="radio" name='theme' value="concession">
                <label for="concession">Concessions</label>
                <input id="rainforest" type="radio" name='theme' value="rainforest">
                <label for="rainforest">Rainforest</label>
                <input id="community" type="radio" name='theme' value="community">
                <label for="community">Community</label>
            </div>
        </div>
        <div class="col2 text-right pad0y space-bottom1" style="padding-right: 8px">
            <div class="light small">Type:</div>
        </div>
        <div class="col10 space-bottom1">
            <div class="rounded-toggle inline">
                <input id="alltypes" type="radio" name='type' value="alltypes" checked='checked'>
                <label for="alltypes">All</label>
                <input id="raster" type="radio" name='type' value="raster">
                <label for="raster">Raster</label>
                <input id="vector" type="radio" name='type' value="vector">
                <label for="vector">Vector</label>
            </div>
        </div>
    {% endif %}

    <div class="small quiet center animate">{{t.[page.language].layer_ui.available}}</div>
    <ul class="not-displayed fill-darken keyline-all insetshadow-down activate animate">
        {% if page.maplayer_options.subset %}
            {% for pagelayer_id in page.maplayer_options.subset %}{% for layer in site.data.map_layers %}
                {% if layer.id == pagelayer_id %}
                    <li class="" data-index="{{forloop.index}}" data-categories="{% for category in layer.categories %}{{category}},{% endfor %}">
                        <a class="layer-toggle icon pad0 keyline-bottom" href="#" data-id="{{layer.id}}" data-tooltip="{{layer.tooltip}}">{{layer.name}}</a>
                    </li>
                {% endif %}
            {% endfor %}{% endfor %}
        {% else %}
            {% for layer in site.data.map_layers %}
                <li class="" data-index="{{forloop.index}}" data-categories="{% for category in layer.categories %}{{category}},{% endfor %}">
                    <a class="layer-toggle icon pad0 keyline-bottom" href="#" data-id="{{layer.id}}" data-tooltip="{{layer.tooltip}}">{{layer.name}}</a>
                </li>
            {% endfor %}
        {% endif %}
    </ul>

    <div class="small quiet center animate">{{t.[page.language].layer_ui.displayed}}</div>
    <ul class="displayed sortable fill-lighten keyline-all insetshadow-down activate animate" data-lang="{{page.language}}"></ul>

    {% for layer in site.data.map_layers %}
        <ul data-id="{{layer.id}}" class="minor-panel small keyline-all pad0x space-bottom2">
            <li class="pad0">
                <h3>{{layer.name}}</h3>
            </li>
            <li class="pad0 keyline-bottom">
                {{layer.description | truncate:250 }}
            </li>
            <li class="pad0 {% if layer.date %}keyline-bottom {% endif %}space micro">
                <strong class="quiet">Source:</strong> {% if layer.source.url %}<a href="{{layer.source.url}}" class="desaturate">{{layer.source.name}}</a>{% else %}{{layer.source.name}}{% endif %}
            </li>
            {% if layer.date %}<li class="pad0 space">
                <strong class="quiet">Date:</strong> {{layer.date}}
            </li>{% endif %}
        </ul>
    {% endfor %}
</div>

{% include map_legends.html %}
